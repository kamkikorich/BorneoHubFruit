<!DOCTYPE html>
});


if(!response.ok) throw new Error("Gagal Upload");


const data = await response.json();
fileSha = data.content.sha;
alert("Berjaya!");
location.reload();
}
catch(err) { alert(err.message); }
finally { document.getElementById('msg').style.display = 'none'; }
}


function renderList() {
document.getElementById('product-list').innerHTML = products.map((p, i) => `
<div style="background:white; padding:10px; margin-bottom:8px; border:1px solid #ddd;
display:flex; justify-content:space-between; align-items:center;">


<div>
<strong>${p.name}</strong><br>
<span style="font-size:0.9rem; color:#777;">RM ${p.price} â€¢ ${p.unit}</span>
</div>


<button onclick="delProduct(${i})" style="width:auto; background:red;">Padam</button>
</div>
`).join('');
}


function addProduct() {
const name = document.getElementById('p-name').value.trim();
const price = document.getElementById('p-price').value.trim();


if(!name || !price) return alert("Isi nama & harga");


products.push({
id: Date.now(),
name,
desc: document.getElementById('p-desc').value,
price: parseFloat(price),
unit: document.getElementById('p-unit').value,
img: currentBase64
});


// reset form
document.getElementById('p-name').value = "";
document.getElementById('p-desc').value = "";
document.getElementById('p-price').value = "";
document.getElementById('p-unit').value = "";
document.getElementById('preview-img').style.display = "none";
currentBase64 = "";


saveToGitHub();
}


function delProduct(i) {
if(confirm("Padam item ini?")) {
products.splice(i, 1);
saveToGitHub();
}
}
</script>
</body>
</html>
