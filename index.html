<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Borneo Fresh Fruits | Premium</title>
    <style>
        /* --- TEMA PREMIUM --- */
        :root {
            --primary-dark: #0F5132; --primary-light: #198754; --bg: #F3F4F6; 
            --card-bg: #FFFFFF; --text-main: #1F2937; --text-muted: #6B7280;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg); color: var(--text-main); margin: 0; padding-bottom: 60px; }
        
        /* Header */
        .hero { background: var(--primary-dark); color: white; padding: 30px 20px; border-radius: 0 0 20px 20px; text-align: center; }
        .hero-title { font-size: 1.5rem; font-weight: 800; margin: 0 0 5px 0; }
        .hero-desc { font-size: 0.9rem; opacity: 0.9; margin: 0; }

        /* Trust Bar */
        .trust-bar { display: flex; justify-content: center; gap: 10px; margin-top: -15px; padding: 0 10px; }
        .badge { background: white; padding: 5px 12px; border-radius: 20px; font-size: 0.7rem; font-weight: bold; color: var(--primary-dark); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        /* List */
        .container { max-width: 600px; margin: 20px auto; padding: 0 15px; }
        .section-label { font-size: 0.9rem; font-weight: 700; color: var(--text-muted); margin-bottom: 10px; text-transform: uppercase; }

        /* Card */
        .card { background: var(--card-bg); border-radius: 12px; overflow: hidden; margin-bottom: 10px; display: flex; align-items: center; padding: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        
        /* KOTAK GAMBAR (CSS SAHAJA - TIADA LINK LUAR) */
        .img-box { 
            width: 80px; height: 80px; border-radius: 8px; flex-shrink: 0; 
            background-color: #e5e7eb; /* Warna Kelabu */
            display: flex; align-items: center; justify-content: center;
            color: #9ca3af; font-size: 0.6rem; text-align: center; line-height: 1.2;
            overflow: hidden;
        }
        .real-img { width: 100%; height: 100%; object-fit: cover; display: none; } /* Sorok dulu */

        .card-info { padding-left: 15px; flex-grow: 1; }
        .p-name { font-weight: 700; font-size: 1rem; margin-bottom: 4px; }
        .p-desc { font-size: 0.8rem; color: var(--text-muted); margin: 0; }
        .card-action { text-align: right; min-width: 70px; }
        .p-price { display: block; font-weight: 800; font-size: 1rem; color: var(--primary-dark); margin-bottom: 5px; }
        .btn-buy { background: var(--primary-light); color: white; padding: 5px 10px; border-radius: 5px; font-size: 0.75rem; font-weight: bold; text-decoration: none; }

        .footer { text-align: center; margin-top: 30px; font-size: 0.75rem; color: #aaa; }
        .admin-link { color: #ccc; text-decoration: none; }
    </style>
</head>
<body>

    <div class="hero">
        <div class="hero-title">Borneo Fresh Fruits</div>
        <div class="hero-desc">Rasa Asli Borneo, Terus ke Pintu Anda.</div>
    </div>

    <div class="trust-bar">
        <div class="badge">âœ… Segar</div>
        <div class="badge">ðŸš€ Pantas</div>
        <div class="badge">ðŸ’Ž Kualiti</div>
    </div>

    <div class="container">
        <div class="section-label">Stok Terkini</div>
        <div id="product-list">
            <p style="text-align:center; padding:20px; color:#999;">Sedang memuatkan...</p>
        </div>
    </div>

    <div class="footer">
        <p>&copy; 2025 Borneo Fresh Fruits</p>
        <a href="admin.html" class="admin-link">Admin Login</a>
    </div>

    <script src="stok.js"></script>
    <script>
        const PHONE_NO = "60126119542"; 
        const listDiv = document.getElementById('product-list');

        function render() {
            if(typeof products === 'undefined' || products.length === 0) {
                listDiv.innerHTML = "<p style='text-align:center; padding:20px; color:#999;'>Tiada stok.</p>";
                return;
            }

            listDiv.innerHTML = products.map(p => {
                // Logic Gambar Pintar (Offline Safe)
                // Jika ada link gambar, guna. Jika kosong (""), guna kotak kelabu.
                const hasImg = p.img && p.img.length > 10; 
                
                return `
                <div class="card" onclick="window.open('https://wa.me/${PHONE_NO}?text=Saya nak ${p.name}', '_blank')">
                    <div class="img-box">
                        ${hasImg ? `<img src="${p.img}" class="real-img" style="display:block" onerror="this.style.display='none';this.parentElement.innerText='Error'">` : 'Tiada<br>Gambar'}
                    </div>
                    
                    <div class="card-info">
                        <div class="p-name">${p.name}</div>
                        <div class="p-desc">${p.desc || 'Gred A'}</div>
                    </div>

                    <div class="card-action">
                        <span class="p-price">RM${p.price}</span>
                        <span class="btn-buy">BELI</span>
                    </div>
                </div>
            `}).join('');
        }
        render();
    </script>
</body>
</html>
